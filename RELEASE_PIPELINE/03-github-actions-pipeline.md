# Phase 3: GitHub Actions CI/CD Pipeline

## Overview
Set up automated builds, tests, and releases using GitHub Actions (free tier).

## Tasks

### 3.1 Create Workflow Directory
- [ ] Create `.github/workflows/` directory
- [ ] Create `ci.yml` for continuous integration
- [ ] Create `release.yml` for automated releases

### 3.2 CI Workflow (ci.yml)
- [ ] Run on push to `main` and pull requests
- [ ] Test matrix: macOS, Windows, Linux (for tests only)
- [ ] Steps:
  1. Checkout code
  2. Setup Node.js
  3. Install dependencies
  4. Run linting
  5. Run type checking
  6. Run unit tests
  7. Run E2E tests (if applicable)

### 3.3 Release Workflow (release.yml)
- [ ] Trigger on:
  - Push of tags matching `v*` pattern (e.g., `v1.0.0`)
  - Manual workflow dispatch (optional)
- [ ] Build for both macOS and Windows
- [ ] Code sign macOS builds (using secrets)
- [ ] Notarize macOS builds
- [ ] Create GitHub Release
- [ ] Upload artifacts to GitHub Release
- [ ] Generate release notes automatically

### 3.4 GitHub Secrets Configuration
- [ ] Add secrets to repository:
  - `APPLE_ID` - Apple ID email
  - `APPLE_ID_PASS` - App-specific password
  - `APPLE_TEAM_ID` - Apple Team ID
  - `APPLE_SIGNING_IDENTITY` - Developer ID Application certificate name
  - `CSC_LINK` - Base64 encoded certificate (if needed)
  - `CSC_KEY_PASSWORD` - Certificate password (if needed)
  - `GH_TOKEN` - GitHub token with repo permissions (auto-generated by GitHub Actions)

### 3.5 Workflow Features
- [ ] Matrix builds for multiple architectures (arm64, x64)
- [ ] Caching for node_modules and build artifacts
- [ ] Artifact upload/download between jobs
- [ ] Release draft creation with auto-generated notes
- [ ] Automatic DMG and installer upload

## Workflow Structure

```
.github/workflows/
├── ci.yml          # Continuous integration (tests, lint, typecheck)
└── release.yml     # Build and release automation
```

## Notes
- GitHub Actions provides 2,000 free minutes/month for private repos
- Public repos have unlimited free minutes
- macOS runners consume 10x minutes (1 minute = 10 billable minutes)
- Windows runners consume 2x minutes
- Linux runners are 1x (fastest and cheapest)

## Best Practices
- Use `actions/cache` for node_modules
- Use `actions/setup-node` with caching
- Build artifacts only on release tags to save minutes
- Use Linux runners for CI when possible
- Only use macOS/Windows runners for actual builds

